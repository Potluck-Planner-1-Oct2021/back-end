#### Endpoints

Authentication will be implemented using JSON Web Tokens.

- to register a new account requires the following:
  - [1] username
  - [2] password
  - [3] email
- to sign/login into account requires the following:

  - [1] username
  - [2] password

- [ ] to register a new account use `[POST] method` to the following address
- ` https://potluckaapi.herokuapp.com/api/auth/register`
example : on postman => Select Body -  chose raw and change where it said text to JSON
```
{
    "username": "jim",
    "password": "1234"
}
```
### a successful respose will look like this ,depending on entering email since email is not required
```
{
    "username": "jim",
    "password": "$2a$04$uAAmGlQDDkPWmAY4j1JHA.ZXfGYDJsU13NS.Y8hY8tcGzFZnWivIm",
    "email": null
}
```

- [ ] to sign in to the created account use `[POST] method` to the following address
- ` https://potluckaapi.herokuapp.com/api/auth/login`


 ### a successful respose will send bad a token and respose will look like the following: 
```
  {
    "message": "welcome jim!",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWJqZWN0Ijo0LCJ1c2VybmFtZSI6ImppbSIsImlhdCI6MTYzNDcxMTgxNiwiZXhwIjoxNjM0Nzk4MjE2fQ.0uSh0MFO62mAtO4yffRO3WsbEVpnrmL-jRgEmkXFN6c"
}
 ```
### user endpoints



- [ ] to see all the users use `[GET]` to the following address you will get an array with all the users and thier information in it
- ` https://potluckaapi.herokuapp.com`



- [ ] `[GET] /api/users`
  - Returns an array of users as the body of the response.
  - If there are no users it responds with an empty array.
- [ ] `[GET] /api/users/:id`
  - Returns a user with the given `id` as the body of the response.
  
    - ### example 
    - postman =>  http://localhost:5000/api/users/1

 - - response 
```
{
    "user_id": 2,
    "username": "tom",
    "putlocks": [
        {
            "potluck_id": null,
            "potluck_name": null,
            "date": null,
            "time": null,
            "location": null
        }
    ]
}

```

- [ ] `[POST] /api/potluck/create /:user_id`
  - Returns the newly created project as the body of the response.
  
```
postman example ==>
http://localhost:5000/api/potluck/create/2 
{

   "potluck_name": "asdg",
            "date": "2022-10-30",
            "time": "14:00:00",
            "location": "U.S.A"
}

```
```
 response would be 
{
    "user_id": 2,
    "potluck_name": "asdg",
    "location": "U.S.A",
    "date": "2022-10-30T07:00:00.000Z",
    "time": "14:00:00"
}
```




















#### Users table

| field    | data type        | metadata                                      |
| :------- | :--------------- | :-------------------------------------------- |
| user_id  | unsigned integer | primary key, auto-increments, generated by db |
| username | string           | required, unique                              |
| password | string           | required                                      |
| email    | string           | not required ,unique                          |

#### potlucks table

| field        | data type        | metadata                                      |
| :----------- | :--------------- | :-------------------------------------------- |
| potluck_id   | unsigned integer | primary key, auto-increments, generated by db |
| potluck_name | string           | required                                      |
| date         | date             | required                                      |
| time         | time             | required                                      |
| location     | string           | required                                      |
| user_id      | integer          | required                                      |

#### foods table

| field     | data type        | metadata                                      |
| :-------- | :--------------- | :-------------------------------------------- |
| food_id   | unsigned integer | primary key, auto-increments, generated by db |
| food_name | string           | required                                      |

#### potluck_foods table

| field           | data type        | metadata                     |
| :-------------- | :--------------- | :--------------------------- |
| potluck_food_id | unsigned integer | primary key, generated by db |
| potluck_id      | integer          | required                     |
| food_id         | integer          | required                     |

#### guests table

| field           | data type        | metadata                     |
| :-------------- | :--------------- | :--------------------------- |
| guest_id        | unsigned integer | primary key, generated by db |
| potluck_id      | integer          | required                     |
| potluck_food_id | integer          | required                     |
| user_id         | integer          | required                     |
| accepted        | boolean          | defaultTo(false)             |
